\hypertarget{class_cmd_args}{}\section{Cmd\+Args Class Reference}
\label{class_cmd_args}\index{Cmd\+Args@{Cmd\+Args}}


{\ttfamily \#include $<$command\+\_\+arguments.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_cmd_args_a214efd9198eb8124a08e80cda9f0e253}{Cmd\+Args} (const std\+::string name, std\+::ostream \&user, std\+::ostream \&err)
\item 
void \hyperlink{class_cmd_args_aecdd9be22130abe064fb46a6ebc40c41}{print\+Args} ()
\item 
void \hyperlink{class_cmd_args_a1ac48d7334790086d8fb55e86d8cdd6e}{print\+Settings} ()
\item 
void \hyperlink{class_cmd_args_a58a223305551991a3b9f3a38d386295d}{add\+Option} (\hyperlink{class_option_base}{Option\+Base} $\ast$option)
\item 
void \hyperlink{class_cmd_args_a91066e5757db5cee24b244a736365939}{process\+Args} (int argc, char $\ast$$\ast$argv)
\item 
\hypertarget{class_cmd_args_a173bac3022d199a2973d76e9c93e4c88}{}\label{class_cmd_args_a173bac3022d199a2973d76e9c93e4c88} 
char $\ast$$\ast$ {\bfseries get\+Original\+Arguments} ()
\item 
\hypertarget{class_cmd_args_a7d53af33026586a5d0017297485f3aff}{}\label{class_cmd_args_a7d53af33026586a5d0017297485f3aff} 
int {\bfseries get\+Original\+Argument\+Count} ()
\item 
bool \hyperlink{class_cmd_args_af8460dc8b1ec7eb745d256f6e80afc2e}{all\+Mandatory\+Set} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{class_cmd_args}{Cmd\+Args} -\/ A very simple command line arguments src file, can be included in C++ and C files using the appropriate function calls. In order to use this to process your arguments simply do the following\+: //create a \hyperlink{class_cmd_args}{Cmd\+Args} object \hyperlink{class_cmd_args}{Cmd\+Args} $\ast$args = new \hyperlink{class_cmd_args}{Cmd\+Args(std\+::string(argv\mbox{[}0\mbox{]}))}; //sets program name for object //define static variables for options static bool my\+First\+Option = false; //assigning var gives default value //add options to \hyperlink{class_cmd_args}{Cmd\+Args} cmd-\/$>$add\+Option(new Option$<$bool$>$(\&my\+First\+Option,\char`\"{}-\/m\+F\+O\char`\"{},\char`\"{}\+An option\char`\"{})); //general form of cmd-\/$>$add\+Option(new Option$<$type$>$(var mem location, text flag, text description)); //give cmd line args to \hyperlink{class_cmd_args}{Cmd\+Args} cmd-\/$>$process\+Args(argc,argv) .....now you can use the variables as you see fit

\begin{DoxyAuthor}{Author}
Jonathan Beard 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
Last modified 27 May 2012  \href{mailto:jbeard@wustl.edu}{\tt jbeard@wustl.\+edu} \hyperlink{class_cmd_args}{Cmd\+Args} -\/ actual cmd args class 
\end{DoxyVersion}


Definition at line 43 of file command\+\_\+arguments.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_cmd_args_a214efd9198eb8124a08e80cda9f0e253}{}\label{class_cmd_args_a214efd9198eb8124a08e80cda9f0e253} 
\index{Cmd\+Args@{Cmd\+Args}!Cmd\+Args@{Cmd\+Args}}
\index{Cmd\+Args@{Cmd\+Args}!Cmd\+Args@{Cmd\+Args}}
\subsubsection{\texorpdfstring{Cmd\+Args()}{CmdArgs()}}
{\footnotesize\ttfamily Cmd\+Args\+::\+Cmd\+Args (\begin{DoxyParamCaption}\item[{const std\+::string}]{n,  }\item[{std\+::ostream \&}]{user,  }\item[{std\+::ostream \&}]{err }\end{DoxyParamCaption})}

Default Constructor -\/ 
\begin{DoxyParams}{Parameters}
{\em name} & -\/ std\+::string, name of program using \hyperlink{class_cmd_args}{Cmd\+Args} \\
\hline
{\em user} & -\/ std\+::ostream\&, stream for user output \\
\hline
{\em err} & -\/ std\+::ostream\&, stream for error output\\
\hline
\end{DoxyParams}
\hyperlink{class_cmd_args}{Cmd\+Args} -\/ A very simple command line arguments src file, can be included in C++ and C files using the appropriate function calls. In order to use this to process your arguments simply do the following\+: //create a \hyperlink{class_cmd_args}{Cmd\+Args} object \hyperlink{class_cmd_args}{Cmd\+Args} $\ast$args = new \hyperlink{class_cmd_args}{Cmd\+Args(std\+::string(argv\mbox{[}0\mbox{]}))}; //sets program name for object //define static variables for options static bool my\+First\+Option = false; //assigning var gives default value //add options to \hyperlink{class_cmd_args}{Cmd\+Args} cmd-\/$>$add\+Option(new Option$<$bool$>$(\&my\+First\+Option,\char`\"{}-\/m\+F\+O\char`\"{},\char`\"{}\+An option\char`\"{})); //general form of cmd-\/$>$add\+Option(new Option$<$type$>$(var mem location, text flag, text description)); //give cmd line args to \hyperlink{class_cmd_args}{Cmd\+Args} cmd-\/$>$process\+Args(argc,argv) .....now you can use the variables as you see fit

\begin{DoxyAuthor}{Author}
Jonathan Beard 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
Last modified 27 May 2012  \href{mailto:jbeard@wustl.edu}{\tt jbeard@wustl.\+edu} 
\end{DoxyVersion}


Definition at line 34 of file command\+\_\+arguments.\+cpp.


\begin{DoxyCode}
37    : name( n ),
38      userstream( user ),
39      errorstream( err )
40 \{
41   \textcolor{comment}{/* nothing to do here, move along */}
42 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_cmd_args_a58a223305551991a3b9f3a38d386295d}{}\label{class_cmd_args_a58a223305551991a3b9f3a38d386295d} 
\index{Cmd\+Args@{Cmd\+Args}!add\+Option@{add\+Option}}
\index{add\+Option@{add\+Option}!Cmd\+Args@{Cmd\+Args}}
\subsubsection{\texorpdfstring{add\+Option()}{addOption()}}
{\footnotesize\ttfamily void Cmd\+Args\+::add\+Option (\begin{DoxyParamCaption}\item[{\hyperlink{class_option_base}{Option\+Base} $\ast$}]{option }\end{DoxyParamCaption})}

add\+Option -\/ each of these takes a ptr to an options object, there is a method for int64\+\_\+t, bool, std\+::string, and double. 

Definition at line 76 of file command\+\_\+arguments.\+cpp.


\begin{DoxyCode}
76                                     \{
77    assert( option != \textcolor{keyword}{nullptr} );
78    options.push\_back(option);
79 \}
\end{DoxyCode}
\hypertarget{class_cmd_args_af8460dc8b1ec7eb745d256f6e80afc2e}{}\label{class_cmd_args_af8460dc8b1ec7eb745d256f6e80afc2e} 
\index{Cmd\+Args@{Cmd\+Args}!all\+Mandatory\+Set@{all\+Mandatory\+Set}}
\index{all\+Mandatory\+Set@{all\+Mandatory\+Set}!Cmd\+Args@{Cmd\+Args}}
\subsubsection{\texorpdfstring{all\+Mandatory\+Set()}{allMandatorySet()}}
{\footnotesize\ttfamily bool Cmd\+Args\+::all\+Mandatory\+Set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

not set yet

return false for rest, continue to print all not set 

Definition at line 148 of file command\+\_\+arguments.\+cpp.


\begin{DoxyCode}
149 \{
150    \textcolor{keywordtype}{bool} ret\_val( \textcolor{keyword}{true} );
151    \textcolor{keywordflow}{for}( \hyperlink{class_option_base}{OptionBase} * \textcolor{keyword}{const} option : options )
152    \{
153       assert( option != \textcolor{keyword}{nullptr} );
154       \textcolor{keywordflow}{if}( option->is\_mandatory() && ! option->is\_set() )
155       \{
156          \textcolor{keywordflow}{if}( ret\_val \textcolor{comment}{/** not set yet **/} )
157          \{
158            errorstream << \textcolor{stringliteral}{"\(\backslash\)033[1;36m"} << \textcolor{stringliteral}{"The following options must be set:"} << \textcolor{stringliteral}{"\(\backslash\)033[0m"} << \textcolor{stringliteral}{"\(\backslash\)n"};
159          \}
160          errorstream << \textcolor{stringliteral}{"\(\backslash\)033[1;31m"} << \textcolor{stringliteral}{"Option: "} << \textcolor{stringliteral}{"\(\backslash\)033[0m"} << option->toString() << \textcolor{stringliteral}{"\(\backslash\)n"}; \textcolor{comment}{}
161 \textcolor{comment}{         /** return false for rest, continue to print all not set **/}
162          ret\_val = \textcolor{keyword}{false};
163       \}
164    \}
165    \textcolor{keywordflow}{return}( ret\_val );
166 \}
\end{DoxyCode}
\hypertarget{class_cmd_args_aecdd9be22130abe064fb46a6ebc40c41}{}\label{class_cmd_args_aecdd9be22130abe064fb46a6ebc40c41} 
\index{Cmd\+Args@{Cmd\+Args}!print\+Args@{print\+Args}}
\index{print\+Args@{print\+Args}!Cmd\+Args@{Cmd\+Args}}
\subsubsection{\texorpdfstring{print\+Args()}{printArgs()}}
{\footnotesize\ttfamily void Cmd\+Args\+::print\+Args (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

print\+Args -\/ print all the options 

Definition at line 46 of file command\+\_\+arguments.\+cpp.


\begin{DoxyCode}
46                        \{
47    \textcolor{keywordtype}{char} stars[81];
48    generateStars( stars, 81 );
49    userstream << stars << std::endl;
50    userstream << \textcolor{stringliteral}{"Options menu for: "} << name << std::endl;
51    for\_each( options.begin(),
52              options.end(),
53              [&]( \hyperlink{class_option_base}{OptionBase} *option )\{ 
54                   userstream << 
55                         option->toString() << std::endl; \} );
56    userstream << \textcolor{stringliteral}{"End Options"} << std::endl;
57    userstream << stars << std::endl;
58 \}
\end{DoxyCode}
\hypertarget{class_cmd_args_a1ac48d7334790086d8fb55e86d8cdd6e}{}\label{class_cmd_args_a1ac48d7334790086d8fb55e86d8cdd6e} 
\index{Cmd\+Args@{Cmd\+Args}!print\+Settings@{print\+Settings}}
\index{print\+Settings@{print\+Settings}!Cmd\+Args@{Cmd\+Args}}
\subsubsection{\texorpdfstring{print\+Settings()}{printSettings()}}
{\footnotesize\ttfamily void Cmd\+Args\+::print\+Settings (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

print\+Settings -\/ useful for benchmark codes 

Definition at line 60 of file command\+\_\+arguments.\+cpp.


\begin{DoxyCode}
61 \{
62    \textcolor{keywordtype}{char} stars[ 81 ];
63    generateStars( stars, 81 );
64    userstream << stars << std::endl;
65    userstream << \textcolor{stringliteral}{"Current Settings:\(\backslash\)n"};
66    for\_each( options.begin(),
67              options.end(),
68              [&]( \hyperlink{class_option_base}{OptionBase} *option )
69              \{
70                userstream << option->get\_flag() << \textcolor{stringliteral}{":    "} << option->getValue() << \textcolor{stringliteral}{"\(\backslash\)n"};
71              \} );
72    userstream << stars << std::endl;
73 \}
\end{DoxyCode}
\hypertarget{class_cmd_args_a91066e5757db5cee24b244a736365939}{}\label{class_cmd_args_a91066e5757db5cee24b244a736365939} 
\index{Cmd\+Args@{Cmd\+Args}!process\+Args@{process\+Args}}
\index{process\+Args@{process\+Args}!Cmd\+Args@{Cmd\+Args}}
\subsubsection{\texorpdfstring{process\+Args()}{processArgs()}}
{\footnotesize\ttfamily void Cmd\+Args\+::process\+Args (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}

process\+Args -\/ to be called when all the options are registered and you\textquotesingle{}re ready to set the variables 
\begin{DoxyParams}{Parameters}
{\em argc} & -\/ int, with number of strings in \+\_\+argv \\
\hline
{\em argv} & -\/ char$\ast$$\ast$, with list of strings from the command line \\
\hline
\end{DoxyParams}
rewind i 

Definition at line 81 of file command\+\_\+arguments.\+cpp.


\begin{DoxyCode}
81                                               \{
82    \textcolor{comment}{/* store for later just in case */}
83    this->argc = argc;
84    this->argv = argv;
85 
86    \textcolor{comment}{/* now on to the processing */}
87    std::queue< std::string > ignored\_options;
88    \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 1 ; i < argc; i++)
89    \{
90       \textcolor{keywordflow}{for}( \textcolor{keyword}{auto} it( options.begin() ); it != options.end(); ++it )
91       \{
92        \textcolor{keywordflow}{if}( std::strcmp( \textcolor{comment}{/* given argument */} argv[i],
93                         \textcolor{comment}{/* given flag     */} (*it)->get\_flag().c\_str() ) == 0 )
94          \{
95             \textcolor{keywordtype}{bool} success( \textcolor{keyword}{false} );
96             \textcolor{keywordflow}{if}( i + 1 < argc )
97             \{
98                success = (*it)->setValue( argv[ ++i ] );
99             \}
100             \textcolor{keywordflow}{if}( success != \textcolor{keyword}{true} )
101             \{
102                \textcolor{keywordflow}{if}( (*it)->is\_bool() )
103                \{
104                   (*it)->setValue( \textcolor{stringliteral}{"true"} );\textcolor{comment}{}
105 \textcolor{comment}{                  /** rewind i **/}
106                   \textcolor{keywordflow}{if}( i != argc - 1 )
107                   \{
108                      --i;
109                   \}
110                \}
111                \textcolor{keywordflow}{else}
112                \{
113                   errorstream << \textcolor{stringliteral}{"Invalid input for flag ("} <<
114                    (*it)->get\_flag() << \textcolor{stringliteral}{") : "} << argv[i] << \textcolor{stringliteral}{"\(\backslash\)n"};
115                \}
116             \}
117             \textcolor{keywordflow}{goto} END;
118          \}
119     \}
120       ignored\_options.push( std::string( argv[i] ) );
121       END:;
122    \}
123    
124    \textcolor{keywordflow}{if}(! ignored\_options.empty() )\{
125       errorstream << 
126          \textcolor{stringliteral}{"The following options were unknown and ignored: \(\backslash\)n"};
127    \}
128    \textcolor{keywordflow}{while}(! ignored\_options.empty() )\{
129       std::string option = ignored\_options.front();
130       ignored\_options.pop();
131       errorstream << option << std::endl;
132    \}
133 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
command\+\_\+arguments.\+h\item 
command\+\_\+arguments.\+cpp\end{DoxyCompactItemize}
