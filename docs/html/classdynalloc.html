<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RaftLib: dynalloc Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RaftLib
   &#160;<span id="projectnumber">0.9a</span>
   </div>
   <div id="projectbrief">C++ Stream Processing Template Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdynalloc-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dynalloc Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for dynalloc:</div>
<div class="dyncontent">
<div class="center"><img src="classdynalloc__inherit__graph.png" border="0" usemap="#dynalloc_inherit__map" alt="Inheritance graph"/></div>
<map name="dynalloc_inherit__map" id="dynalloc_inherit__map">
<area shape="rect" id="node2" href="class_allocate.html" title="Allocate" alt="" coords="6,5,75,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for dynalloc:</div>
<div class="dyncontent">
<div class="center"><img src="classdynalloc__coll__graph.png" border="0" usemap="#dynalloc_coll__map" alt="Collaboration graph"/></div>
<map name="dynalloc_coll__map" id="dynalloc_coll__map">
<area shape="rect" id="node2" href="class_allocate.html" title="Allocate" alt="" coords="90,105,159,131"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad5aa0343bab70d1f51e05953d890e8d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynalloc.html#ad5aa0343bab70d1f51e05953d890e8d2">dynalloc</a> (<a class="el" href="classraft_1_1map.html">raft::map</a> &amp;map, volatile bool &amp;<a class="el" href="class_allocate.html#a4d10076b88ab1297c89b8a05e117b510">exit_alloc</a>)</td></tr>
<tr class="separator:ad5aa0343bab70d1f51e05953d890e8d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a52b86ec09bd6dd52e49062137b2e37"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynalloc.html#a2a52b86ec09bd6dd52e49062137b2e37">run</a> ()</td></tr>
<tr class="separator:a2a52b86ec09bd6dd52e49062137b2e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_allocate"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_allocate')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_allocate.html">Allocate</a></td></tr>
<tr class="memitem:ab2b82e7fab9d0fccb9702effec93917b inherit pub_methods_class_allocate"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocate.html#ab2b82e7fab9d0fccb9702effec93917b">Allocate</a> (<a class="el" href="classraft_1_1map.html">raft::map</a> &amp;map, volatile bool &amp;<a class="el" href="class_allocate.html#a4d10076b88ab1297c89b8a05e117b510">exit_alloc</a>)</td></tr>
<tr class="separator:ab2b82e7fab9d0fccb9702effec93917b inherit pub_methods_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cd61da26f3b82da094b6d3e5d556f5 inherit pub_methods_class_allocate"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocate.html#a68cd61da26f3b82da094b6d3e5d556f5">~Allocate</a> ()</td></tr>
<tr class="separator:a68cd61da26f3b82da094b6d3e5d556f5 inherit pub_methods_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3123c2c1d9584974ce19b47fe6ceea17 inherit pub_methods_class_allocate"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocate.html#a3123c2c1d9584974ce19b47fe6ceea17">waitTillReady</a> ()</td></tr>
<tr class="separator:a3123c2c1d9584974ce19b47fe6ceea17 inherit pub_methods_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_class_allocate"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_allocate')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_allocate.html">Allocate</a></td></tr>
<tr class="memitem:a1d5c71b5cd6fc9671ed82d9c1d04965c inherit pro_methods_class_allocate"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocate.html#a1d5c71b5cd6fc9671ed82d9c1d04965c">initialize</a> (<a class="el" href="struct_port_info.html">PortInfo</a> *const src, <a class="el" href="struct_port_info.html">PortInfo</a> *const dst, <a class="el" href="class_f_i_f_o.html">FIFO</a> *const fifo)</td></tr>
<tr class="separator:a1d5c71b5cd6fc9671ed82d9c1d04965c inherit pro_methods_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a901eb0fdb6cffd56019c9ab9f2b25f92 inherit pro_methods_class_allocate"><td class="memItemLeft" align="right" valign="top"><a id="a901eb0fdb6cffd56019c9ab9f2b25f92"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>allocate</b> (<a class="el" href="struct_port_info.html">PortInfo</a> &amp;a, <a class="el" href="struct_port_info.html">PortInfo</a> &amp;b, void *data)</td></tr>
<tr class="separator:a901eb0fdb6cffd56019c9ab9f2b25f92 inherit pro_methods_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf36bb704e43f5736a0e736d9e1a81b inherit pro_methods_class_allocate"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocate.html#a4cf36bb704e43f5736a0e736d9e1a81b">setReady</a> ()</td></tr>
<tr class="separator:a4cf36bb704e43f5736a0e736d9e1a81b inherit pro_methods_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_class_allocate"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_allocate')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_allocate.html">Allocate</a></td></tr>
<tr class="memitem:a93e612d7ea7eb686fc88b5dee7a1407b inherit pro_attribs_class_allocate"><td class="memItemLeft" align="right" valign="top">kernelkeeper &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocate.html#a93e612d7ea7eb686fc88b5dee7a1407b">source_kernels</a></td></tr>
<tr class="separator:a93e612d7ea7eb686fc88b5dee7a1407b inherit pro_attribs_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e8c7d69ab7b309ea45439aea54fb4f inherit pro_attribs_class_allocate"><td class="memItemLeft" align="right" valign="top"><a id="a91e8c7d69ab7b309ea45439aea54fb4f"></a>
kernelkeeper &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>all_kernels</b></td></tr>
<tr class="separator:a91e8c7d69ab7b309ea45439aea54fb4f inherit pro_attribs_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037410210c0d10578f87de1ec68f47ba inherit pro_attribs_class_allocate"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_f_i_f_o.html">FIFO</a> *&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocate.html#a037410210c0d10578f87de1ec68f47ba">allocated_fifo</a></td></tr>
<tr class="separator:a037410210c0d10578f87de1ec68f47ba inherit pro_attribs_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d10076b88ab1297c89b8a05e117b510 inherit pro_attribs_class_allocate"><td class="memItemLeft" align="right" valign="top">volatile bool &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocate.html#a4d10076b88ab1297c89b8a05e117b510">exit_alloc</a></td></tr>
<tr class="separator:a4d10076b88ab1297c89b8a05e117b510 inherit pro_attribs_class_allocate"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="dynalloc_8hpp_source.html#l00029">29</a> of file <a class="el" href="dynalloc_8hpp_source.html">dynalloc.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad5aa0343bab70d1f51e05953d890e8d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5aa0343bab70d1f51e05953d890e8d2">&sect;&nbsp;</a></span>dynalloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dynalloc::dynalloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classraft_1_1map.html">raft::map</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_alloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="dynalloc_8cpp_source.html">dynalloc.cpp</a> - </p><dl class="section author"><dt>Author</dt><dd>: Jonathan Beard </dd></dl>
<dl class="section version"><dt>Version</dt><dd>: Mon Oct 13 16:36:18 2014</dd></dl>
<p>Copyright 2014 Jonathan Beard</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at:</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>

<p>Definition at line <a class="el" href="dynalloc_8cpp_source.html#l00035">35</a> of file <a class="el" href="dynalloc_8cpp_source.html">dynalloc.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                                                :</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                        <a class="code" href="class_allocate.html#ab2b82e7fab9d0fccb9702effec93917b">Allocate</a>( map, <a class="code" href="class_allocate.html#a4d10076b88ab1297c89b8a05e117b510">exit_alloc</a> )</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div><div class="ttc" id="class_allocate_html_a4d10076b88ab1297c89b8a05e117b510"><div class="ttname"><a href="class_allocate.html#a4d10076b88ab1297c89b8a05e117b510">Allocate::exit_alloc</a></div><div class="ttdeci">volatile bool &amp; exit_alloc</div><div class="ttdef"><b>Definition:</b> <a href="allocate_8hpp_source.html#l00131">allocate.hpp:131</a></div></div>
<div class="ttc" id="class_allocate_html_ab2b82e7fab9d0fccb9702effec93917b"><div class="ttname"><a href="class_allocate.html#ab2b82e7fab9d0fccb9702effec93917b">Allocate::Allocate</a></div><div class="ttdeci">Allocate(raft::map &amp;map, volatile bool &amp;exit_alloc)</div><div class="ttdef"><b>Definition:</b> <a href="src_2allocate_8cpp_source.html#l00030">src/allocate.cpp:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2a52b86ec09bd6dd52e49062137b2e37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a52b86ec09bd6dd52e49062137b2e37">&sect;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dynalloc::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>run - call to initiate schedule, in the current instantiation this is called by the scheduler. </p>
<p>same alloc for all, inherit from base alloc</p>
<p>acquire source kernels</p>
<p>make this a fixed quantity right now, if size &gt; .75% at montor interval three times or more then increase size.</p>
<p>TODO, the values might wrap if no monitoring on</p>
<p>get initializer function</p>
<p>start monitor loop</p>
<p>monitor fifo's </p>

<p>Implements <a class="el" href="class_allocate.html#a44f9b51c382fec159233609e21b9d272">Allocate</a>.</p>

<p>Definition at line <a class="el" href="dynalloc_8cpp_source.html#l00065">65</a> of file <a class="el" href="dynalloc_8cpp_source.html">dynalloc.cpp</a>.</p>

<p>References <a class="el" href="graphtools_8cpp_source.html#l00038">GraphTools::BFS()</a>, <a class="el" href="allocate_8hpp_source.html#l00131">Allocate::exit_alloc</a>, <a class="el" href="class_f_i_f_o.html#a4d44784c43a4026508e85982eb3174c7">FIFO::get_frac_write_blocked()</a>, <a class="el" href="port__info_8cpp_source.html#l00049">PortInfo::getFIFO()</a>, <a class="el" href="src_2allocate_8cpp_source.html#l00052">Allocate::setReady()</a>, and <a class="el" href="allocate_8hpp_source.html#l00117">Allocate::source_kernels</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <span class="keyword">auto</span> alloc_func = [&amp;]( <a class="code" href="struct_port_info.html">PortInfo</a> &amp;a, <a class="code" href="struct_port_info.html">PortInfo</a> &amp;b, <span class="keywordtype">void</span> *data )</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   {<span class="comment"></span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">      /** same alloc for all, inherit from base alloc **/</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      (<span class="keyword">this</span>)-&gt;allocate( a, b, data );</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   };</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">   /** acquire source kernels **/</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   <span class="keyword">auto</span> &amp;container( (<span class="keyword">this</span>)-&gt;<a class="code" href="class_allocate.html#a93e612d7ea7eb686fc88b5dee7a1407b">source_kernels</a>.acquire() );</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   <a class="code" href="class_graph_tools.html#ade51007699cbd681c1a37946609c46ee">GraphTools::BFS</a>( container, alloc_func );</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   (<span class="keyword">this</span>)-&gt;<a class="code" href="class_allocate.html#a93e612d7ea7eb686fc88b5dee7a1407b">source_kernels</a>.release();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   (<span class="keyword">this</span>)-&gt;<a class="code" href="class_allocate.html#a4cf36bb704e43f5736a0e736d9e1a81b">setReady</a>();</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   std::map&lt; std::size_t, int &gt; size_map;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    * make this a fixed quantity right now, if size &gt; .75% at</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">    * montor interval three times or more then increase size.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   <span class="keyword">auto</span> mon_func = [&amp;]( <a class="code" href="struct_port_info.html">PortInfo</a> &amp;a, <a class="code" href="struct_port_info.html">PortInfo</a> &amp;b, <span class="keywordtype">void</span> *data ) -&gt; <span class="keywordtype">void</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      (void) data;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> hash_val( dynalloc::hash( a, b ) );<span class="comment"></span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">      /** TODO, the values might wrap if no monitoring on **/</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> realized_ratio( a.<a class="code" href="struct_port_info.html#a483d162fbe356e07381c6c5cfccb4f48">getFIFO</a>()-&gt;<a class="code" href="class_f_i_f_o.html#a4d44784c43a4026508e85982eb3174c7">get_frac_write_blocked</a>() );</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> ratio( 0.8 );</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">if</span>( realized_ratio &gt;= ratio )</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;         <span class="keyword">const</span> <span class="keyword">auto</span> curr_count( size_map[ hash_val ]++ );</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;         <span class="keywordflow">if</span>( curr_count  &gt; 2 )</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;         {<span class="comment"></span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">            /** get initializer function **/</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keyword">auto</span> * <span class="keyword">const</span> buff_ptr( a.<a class="code" href="struct_port_info.html#a483d162fbe356e07381c6c5cfccb4f48">getFIFO</a>() );</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> cap( buff_ptr-&gt;capacity() );</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            buff_ptr-&gt;resize( cap * 2, ALLOC_ALIGN_WIDTH, <a class="code" href="class_allocate.html#a4d10076b88ab1297c89b8a05e117b510">exit_alloc</a> );</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            size_map[ hash_val ] = 0;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;         }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   };<span class="comment"></span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">   /** start monitor loop **/</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keywordflow">while</span>( ! <a class="code" href="class_allocate.html#a4d10076b88ab1297c89b8a05e117b510">exit_alloc</a> )</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   {<span class="comment"></span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">      /** monitor fifo&#39;s **/</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      std::chrono::microseconds dura( 3000 );</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      std::this_thread::sleep_for( dura );</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keyword">auto</span> &amp;container( (<span class="keyword">this</span>)-&gt;<a class="code" href="class_allocate.html#a93e612d7ea7eb686fc88b5dee7a1407b">source_kernels</a>.acquire() );</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <a class="code" href="class_graph_tools.html#ade51007699cbd681c1a37946609c46ee">GraphTools::BFS</a>( container, mon_func );</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      (<span class="keyword">this</span>)-&gt;<a class="code" href="class_allocate.html#a93e612d7ea7eb686fc88b5dee7a1407b">source_kernels</a>.release();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="class_allocate_html_a4d10076b88ab1297c89b8a05e117b510"><div class="ttname"><a href="class_allocate.html#a4d10076b88ab1297c89b8a05e117b510">Allocate::exit_alloc</a></div><div class="ttdeci">volatile bool &amp; exit_alloc</div><div class="ttdef"><b>Definition:</b> <a href="allocate_8hpp_source.html#l00131">allocate.hpp:131</a></div></div>
<div class="ttc" id="class_f_i_f_o_html_a4d44784c43a4026508e85982eb3174c7"><div class="ttname"><a href="class_f_i_f_o.html#a4d44784c43a4026508e85982eb3174c7">FIFO::get_frac_write_blocked</a></div><div class="ttdeci">virtual float get_frac_write_blocked()=0</div></div>
<div class="ttc" id="class_allocate_html_a4cf36bb704e43f5736a0e736d9e1a81b"><div class="ttname"><a href="class_allocate.html#a4cf36bb704e43f5736a0e736d9e1a81b">Allocate::setReady</a></div><div class="ttdeci">void setReady()</div><div class="ttdef"><b>Definition:</b> <a href="src_2allocate_8cpp_source.html#l00052">src/allocate.cpp:52</a></div></div>
<div class="ttc" id="struct_port_info_html"><div class="ttname"><a href="struct_port_info.html">PortInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="port__info_8hpp_source.html#l00040">port_info.hpp:40</a></div></div>
<div class="ttc" id="struct_port_info_html_a483d162fbe356e07381c6c5cfccb4f48"><div class="ttname"><a href="struct_port_info.html#a483d162fbe356e07381c6c5cfccb4f48">PortInfo::getFIFO</a></div><div class="ttdeci">FIFO * getFIFO()</div><div class="ttdef"><b>Definition:</b> <a href="port__info_8cpp_source.html#l00049">port_info.cpp:49</a></div></div>
<div class="ttc" id="class_allocate_html_a93e612d7ea7eb686fc88b5dee7a1407b"><div class="ttname"><a href="class_allocate.html#a93e612d7ea7eb686fc88b5dee7a1407b">Allocate::source_kernels</a></div><div class="ttdeci">kernelkeeper &amp; source_kernels</div><div class="ttdef"><b>Definition:</b> <a href="allocate_8hpp_source.html#l00117">allocate.hpp:117</a></div></div>
<div class="ttc" id="class_graph_tools_html_ade51007699cbd681c1a37946609c46ee"><div class="ttname"><a href="class_graph_tools.html#ade51007699cbd681c1a37946609c46ee">GraphTools::BFS</a></div><div class="ttdeci">static void BFS(std::set&lt; raft::kernel * &gt; &amp;source_kernels, edge_func func, void *data=nullptr, bool connected_error=false)</div><div class="ttdef"><b>Definition:</b> <a href="graphtools_8cpp_source.html#l00038">graphtools.cpp:38</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdynalloc_a2a52b86ec09bd6dd52e49062137b2e37_cgraph.png" border="0" usemap="#classdynalloc_a2a52b86ec09bd6dd52e49062137b2e37_cgraph" alt=""/></div>
<map name="classdynalloc_a2a52b86ec09bd6dd52e49062137b2e37_cgraph" id="classdynalloc_a2a52b86ec09bd6dd52e49062137b2e37_cgraph">
<area shape="rect" id="node2" href="class_graph_tools.html#ade51007699cbd681c1a37946609c46ee" title="GraphTools::BFS" alt="" coords="160,5,283,31"/>
<area shape="rect" id="node3" href="class_f_i_f_o.html#a4d44784c43a4026508e85982eb3174c7" title="FIFO::get_frac_write\l_blocked" alt="" coords="150,55,293,93"/>
<area shape="rect" id="node4" href="struct_port_info.html#a483d162fbe356e07381c6c5cfccb4f48" title="PortInfo::getFIFO" alt="" coords="160,117,284,143"/>
<area shape="rect" id="node5" href="class_allocate.html#a4cf36bb704e43f5736a0e736d9e1a81b" title="Allocate::setReady" alt="" coords="155,167,288,192"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="dynalloc_8hpp_source.html">dynalloc.hpp</a></li>
<li><a class="el" href="dynalloc_8cpp_source.html">dynalloc.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 5 2016 12:42:39 for RaftLib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
